<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>select查询语句 | myBlog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="myBlogmyBlogmyBlogmyBlog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.9961da37.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.2a200a47.js" as="script"><link rel="preload" href="/myBlog/assets/js/3.1dd42633.js" as="script"><link rel="preload" href="/myBlog/assets/js/37.65162a31.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.04dce474.js"><link rel="prefetch" href="/myBlog/assets/js/11.ebd2c0f5.js"><link rel="prefetch" href="/myBlog/assets/js/12.3ac0898e.js"><link rel="prefetch" href="/myBlog/assets/js/13.38cf5de4.js"><link rel="prefetch" href="/myBlog/assets/js/14.77d64a51.js"><link rel="prefetch" href="/myBlog/assets/js/15.3f077aa5.js"><link rel="prefetch" href="/myBlog/assets/js/16.46f247b8.js"><link rel="prefetch" href="/myBlog/assets/js/17.0582cc19.js"><link rel="prefetch" href="/myBlog/assets/js/18.094c304c.js"><link rel="prefetch" href="/myBlog/assets/js/19.5b602654.js"><link rel="prefetch" href="/myBlog/assets/js/20.fab01036.js"><link rel="prefetch" href="/myBlog/assets/js/21.5a1df0bf.js"><link rel="prefetch" href="/myBlog/assets/js/22.377d55ec.js"><link rel="prefetch" href="/myBlog/assets/js/23.efbaa244.js"><link rel="prefetch" href="/myBlog/assets/js/24.fe304b38.js"><link rel="prefetch" href="/myBlog/assets/js/25.e90e5675.js"><link rel="prefetch" href="/myBlog/assets/js/26.61bec9f2.js"><link rel="prefetch" href="/myBlog/assets/js/27.3e9068ba.js"><link rel="prefetch" href="/myBlog/assets/js/28.9aded43a.js"><link rel="prefetch" href="/myBlog/assets/js/29.038bedbb.js"><link rel="prefetch" href="/myBlog/assets/js/30.cc70c509.js"><link rel="prefetch" href="/myBlog/assets/js/31.da4ae0d2.js"><link rel="prefetch" href="/myBlog/assets/js/32.d70de289.js"><link rel="prefetch" href="/myBlog/assets/js/33.6af8056a.js"><link rel="prefetch" href="/myBlog/assets/js/34.fdc2c293.js"><link rel="prefetch" href="/myBlog/assets/js/35.17555fb1.js"><link rel="prefetch" href="/myBlog/assets/js/36.b6bc43ce.js"><link rel="prefetch" href="/myBlog/assets/js/38.3c181ccb.js"><link rel="prefetch" href="/myBlog/assets/js/39.066dd98b.js"><link rel="prefetch" href="/myBlog/assets/js/4.afcfe61e.js"><link rel="prefetch" href="/myBlog/assets/js/40.d50f2ec3.js"><link rel="prefetch" href="/myBlog/assets/js/41.77dd7d56.js"><link rel="prefetch" href="/myBlog/assets/js/42.f386f1e0.js"><link rel="prefetch" href="/myBlog/assets/js/43.acb3af63.js"><link rel="prefetch" href="/myBlog/assets/js/44.7a33ab13.js"><link rel="prefetch" href="/myBlog/assets/js/45.e5fabca6.js"><link rel="prefetch" href="/myBlog/assets/js/46.43b7ebc6.js"><link rel="prefetch" href="/myBlog/assets/js/47.63d1ff19.js"><link rel="prefetch" href="/myBlog/assets/js/48.589f46cb.js"><link rel="prefetch" href="/myBlog/assets/js/49.4cd9cdc5.js"><link rel="prefetch" href="/myBlog/assets/js/5.bb777d9e.js"><link rel="prefetch" href="/myBlog/assets/js/50.c1e4f425.js"><link rel="prefetch" href="/myBlog/assets/js/51.ce235396.js"><link rel="prefetch" href="/myBlog/assets/js/52.55def222.js"><link rel="prefetch" href="/myBlog/assets/js/53.fed04149.js"><link rel="prefetch" href="/myBlog/assets/js/6.87986e45.js"><link rel="prefetch" href="/myBlog/assets/js/7.80865b54.js"><link rel="prefetch" href="/myBlog/assets/js/8.66486edd.js"><link rel="prefetch" href="/myBlog/assets/js/9.654dbc20.js"><link rel="prefetch" href="/myBlog/assets/js/vendors~docsearch.70fcbd13.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.9961da37.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">myBlog</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航栏配置" class="dropdown-title"><span class="title">导航栏配置</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航栏配置" class="mobile-dropdown-title"><span class="title">导航栏配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/guide/vue/" class="nav-link">
  自动读取
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/guide/ts/" class="nav-link">
  自定义
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="错误总结" class="dropdown-title"><span class="title">错误总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="错误总结" class="mobile-dropdown-title"><span class="title">错误总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/error/" class="nav-link">
  github
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/web/es6/" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/H5/" class="nav-link">
  H5
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/ts/" class="nav-link">
  ts
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/advanced/" class="nav-link">
  进阶系列
</a></li></ul></div></div><div class="nav-item"><a href="/myBlog/node/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/myBlog/mysql/" class="nav-link router-link-active">
  mysql
</a></div><div class="nav-item"><a href="/myBlog/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/myBlog/timeLine/" class="nav-link">
  时间线
</a></div><div class="nav-item"><a href="/myBlog/friendLink/" class="nav-link">
  友链
</a></div><div class="nav-item"><a href="/myBlog/nested/" class="nav-link">
  关于
</a></div> <a href="https://github.com/ChaselLHL/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航栏配置" class="dropdown-title"><span class="title">导航栏配置</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航栏配置" class="mobile-dropdown-title"><span class="title">导航栏配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/guide/vue/" class="nav-link">
  自动读取
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/guide/ts/" class="nav-link">
  自定义
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="错误总结" class="dropdown-title"><span class="title">错误总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="错误总结" class="mobile-dropdown-title"><span class="title">错误总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/error/" class="nav-link">
  github
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/web/es6/" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/H5/" class="nav-link">
  H5
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/ts/" class="nav-link">
  ts
</a></li><li class="dropdown-item"><!----> <a href="/myBlog/web/advanced/" class="nav-link">
  进阶系列
</a></li></ul></div></div><div class="nav-item"><a href="/myBlog/node/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/myBlog/mysql/" class="nav-link router-link-active">
  mysql
</a></div><div class="nav-item"><a href="/myBlog/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/myBlog/timeLine/" class="nav-link">
  时间线
</a></div><div class="nav-item"><a href="/myBlog/friendLink/" class="nav-link">
  友链
</a></div><div class="nav-item"><a href="/myBlog/nested/" class="nav-link">
  关于
</a></div> <a href="https://github.com/ChaselLHL/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/myBlog/mysql/dowloadAndinstall.html" class="sidebar-link">MySQL安装及基本使用教程</a></li><li><a href="/myBlog/mysql/introduce.html" class="sidebar-link">文件配置</a></li><li><a href="/myBlog/mysql/db_base_table.html" class="sidebar-link">数据库操作步骤</a></li><li><a href="/myBlog/mysql/date_type.html" class="sidebar-link">数据库数据类型</a></li><li><a href="/myBlog/mysql/operate_sql.html" aria-current="page" class="active sidebar-link">select查询语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#select-查询语句" class="sidebar-link">select 查询语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#where-子句条件查询" class="sidebar-link">where 子句条件查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#not-in-或者in" class="sidebar-link">not in,或者in</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带-not-between-and-的范围查询" class="sidebar-link">带 not / between and  的范围查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#like-匹配查询-模糊查询" class="sidebar-link">like 匹配查询，模糊查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#查询空值is-null-或者-is-not-null-子句" class="sidebar-link">查询空值is null 或者 is not null 子句；</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#and-多条件查询" class="sidebar-link">and 多条件查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#or-查询" class="sidebar-link">or 查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#distinct-去重复查询" class="sidebar-link">distinct 去重复查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#对查询结果排序" class="sidebar-link">对查询结果排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#分组查询" class="sidebar-link">分组查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#group-by" class="sidebar-link">group by</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#having" class="sidebar-link">having</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#with-rollup-ifnull" class="sidebar-link">with rollup， ifnull()</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#多字段分组" class="sidebar-link">多字段分组</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#group-by-和-order-by一起使用" class="sidebar-link">group by 和 order by一起使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#用limit-限制查询结果的数量" class="sidebar-link">用limit 限制查询结果的数量</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#使用集合函数查询" class="sidebar-link">使用集合函数查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#count-使用" class="sidebar-link">count()使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#avg-使用" class="sidebar-link">avg()使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#max-使用" class="sidebar-link">max()使用</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#min-使用" class="sidebar-link">min()使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#连表查询" class="sidebar-link">连表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#内连接查询" class="sidebar-link">内连接查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#外连接查询" class="sidebar-link">外连接查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#复合条件连接查询" class="sidebar-link">复合条件连接查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#子查询" class="sidebar-link">子查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带any-some-关键字的子查询" class="sidebar-link">带any ,some 关键字的子查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带all-关键字查询" class="sidebar-link">带all 关键字查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带exists-关键字的子查询" class="sidebar-link">带exists 关键字的子查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带in-关键字的子查询" class="sidebar-link">带in 关键字的子查询</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#带比较运算符的子查询" class="sidebar-link">带比较运算符的子查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#union-union-all合并查询结果" class="sidebar-link">union , union all合并查询结果</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#为表和字段取别名" class="sidebar-link">为表和字段取别名</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#使用正则表达式查询" class="sidebar-link">使用正则表达式查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#以-开头-匹配以特定字符或者字符串开头的文本。" class="sidebar-link">以‘^’开头，匹配以特定字符或者字符串开头的文本。</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#查询以特定字符或者字符串结尾-的记录" class="sidebar-link">查询以特定字符或者字符串结尾‘$’的记录</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#用符合-来代替字符串中的任意一个字符" class="sidebar-link">用符合‘.’来代替字符串中的任意一个字符</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#使用-和-来匹配多个字符" class="sidebar-link">使用‘*’ 和‘+’ 来匹配多个字符</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#匹配指定字符串" class="sidebar-link">匹配指定字符串</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#匹配指定字符中的任意一个" class="sidebar-link">匹配指定字符中的任意一个</a></li><li class="sidebar-sub-header"><a href="/myBlog/mysql/operate_sql.html#使用-m-或者-m-n-来指定字符串连续出现的次数" class="sidebar-link">使用{m}或者{m,n}来指定字符串连续出现的次数</a></li></ul></li></ul></li><li><a href="/myBlog/mysql/insert_update.html" class="sidebar-link">插入，修改，删除</a></li><li><a href="/myBlog/mysql/indexes.html" class="sidebar-link">索引</a></li><li><a href="/myBlog/mysql/node_engine.html" class="sidebar-link">数据库 增删改查</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="select-查询语句"><a href="#select-查询语句" class="header-anchor">#</a> select 查询语句</h2> <p>语法</p> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token punctuation">{</span><span class="token operator">*</span><span class="token operator">|</span><span class="token punctuation">[</span>字段列表<span class="token punctuation">]</span><span class="token punctuation">}</span> 
<span class="token keyword">from</span> <span class="token operator">&lt;</span>表<span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>表<span class="token number">1</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">.</span>
where <span class="token operator">&lt;</span>表达式<span class="token operator">&gt;</span>
group by <span class="token operator">&lt;</span>分组<span class="token operator">&gt;</span>
having <span class="token operator">&lt;</span>并且<span class="token operator">&gt;</span>
order by <span class="token operator">&lt;</span>排序<span class="token operator">&gt;</span>
limit <span class="token operator">&lt;</span>分页<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>案例：
创建test_db库</p> <div class="language-js extra-class"><pre class="language-js"><code>create database test_db<span class="token punctuation">;</span>
</code></pre></div><p>创建表名为fruits，</p> <div class="language-js extra-class"><pre class="language-js"><code>create table <span class="token function">fruits</span>
<span class="token punctuation">(</span>
f_id    <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>        not <span class="token keyword">null</span>  comment <span class="token string">&quot;种类&quot;</span><span class="token punctuation">,</span>
s_id    int         not <span class="token keyword">null</span> comment <span class="token string">&quot;供应商&quot;</span><span class="token punctuation">,</span>
f_name  <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>   not <span class="token keyword">null</span> comment <span class="token string">&quot;水果名称&quot;</span><span class="token punctuation">,</span>
f_price <span class="token function">decimal</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>    not <span class="token keyword">null</span> comment <span class="token string">&quot;价格&quot;</span><span class="token punctuation">,</span>
primary <span class="token function">key</span><span class="token punctuation">(</span>f_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>插入数据：</p> <div class="language-js extra-class"><pre class="language-js"><code>insert into <span class="token function">fruits</span> <span class="token punctuation">(</span>f_id<span class="token punctuation">,</span> s_id<span class="token punctuation">,</span> f_name<span class="token punctuation">,</span> f_price<span class="token punctuation">)</span>
     <span class="token function">values</span><span class="token punctuation">(</span><span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span><span class="token string">'apple'</span><span class="token punctuation">,</span><span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'b1'</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token string">'blackberry'</span><span class="token punctuation">,</span> <span class="token number">10.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'bs1'</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'bs2'</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token string">'melon'</span><span class="token punctuation">,</span><span class="token number">8.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'t1'</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">10.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'t2'</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'o2'</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">,</span><span class="token string">'coconut'</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'c0'</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'a2'</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'apricot'</span><span class="token punctuation">,</span><span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'l2'</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">,</span><span class="token string">'lemon'</span><span class="token punctuation">,</span> <span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'b2'</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">,</span><span class="token string">'berry'</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'m1'</span><span class="token punctuation">,</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token number">15.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'m2'</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token string">'xbabay'</span><span class="token punctuation">,</span> <span class="token number">2.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'t4'</span><span class="token punctuation">,</span><span class="token number">107</span><span class="token punctuation">,</span><span class="token string">'xbababa'</span><span class="token punctuation">,</span> <span class="token number">3.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'m3'</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token string">'xxtt'</span><span class="token punctuation">,</span> <span class="token number">11.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">(</span><span class="token string">'b5'</span><span class="token punctuation">,</span><span class="token number">107</span><span class="token punctuation">,</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span> <span class="token number">3.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行完后，接下来就是查看数据了</p> <ul><li>【例】查看fruits表所有数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> select <span class="token operator">*</span> <span class="token keyword">from</span> fruits<span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】从fruits表中获取f_name和f_price两列数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name<span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits<span class="token punctuation">;</span>
</code></pre></div><p>注意：* 通配符方便，但是查询慢，</p> <h3 id="where-子句条件查询"><a href="#where-子句条件查询" class="header-anchor">#</a> where 子句条件查询</h3> <p>可以使用运算符来查询，大于，小于，等于,不等于....</p> <ul><li>【例】查询价格为10.2元的水果的名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_price<span class="token operator">=</span><span class="token number">10.2</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询价格小于10的水果的名称</li></ul> <blockquote><p>select f_name ,f_price from fruits where f_price&lt;10.2;</p></blockquote> <h3 id="not-in-或者in"><a href="#not-in-或者in" class="header-anchor">#</a> not in,或者in</h3> <p>【例】查询所有s_id不等于101也不等于102的记录,</p> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where s_id  not <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>【例】在于101~102之间</p> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where s_id  <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带-not-between-and-的范围查询"><a href="#带-not-between-and-的范围查询" class="header-anchor">#</a> 带 not / between and  的范围查询</h3> <p>【例】不在范围查询</p> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_price not between <span class="token number">2.00</span> and <span class="token number">10.20</span><span class="token punctuation">;</span>
</code></pre></div><p>【例】在范围查询</p> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_price between <span class="token number">2.00</span> and <span class="token number">10.20</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="like-匹配查询-模糊查询"><a href="#like-匹配查询-模糊查询" class="header-anchor">#</a> like 匹配查询，模糊查询</h3> <p>百分号通配符%,匹配任意长度的字符甚至包括零字符，
下划线通配符'_',一次只能匹配任意一个字符。</p> <ul><li>【例】查找所有以’b’字母开头的水果,单个字符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_name like <span class="token string">'b%'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中，查询f_name中包含字母’g’的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_name like <span class="token string">'%g%'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询以’b’开头，并以’y’结尾的水果的名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_name like <span class="token string">'b%y'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询以字母’y’结尾，且’y’前面只有4个字母的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token punctuation">,</span>f_price <span class="token keyword">from</span> fruits where f_name like <span class="token string">'----y'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查询空值is-null-或者-is-not-null-子句"><a href="#查询空值is-null-或者-is-not-null-子句" class="header-anchor">#</a> 查询空值is null 或者 is not null 子句；</h3> <p>查询某字段为空记录。</p> <p>案例： 创建数据表customers</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">customers</span>
<span class="token punctuation">(</span>
  c_id      int       <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  c_name    <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  c_address <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token constant">NULL</span><span class="token punctuation">,</span>
  c_city    <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token constant">NULL</span><span class="token punctuation">,</span>
  c_zip     <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token constant">NULL</span><span class="token punctuation">,</span>
  c_contact <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token constant">NULL</span><span class="token punctuation">,</span>
  c_email   <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span>c_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>插入数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">customers</span><span class="token punctuation">(</span>c_id<span class="token punctuation">,</span> c_name<span class="token punctuation">,</span> c_address<span class="token punctuation">,</span> c_city<span class="token punctuation">,</span> 
c_zip<span class="token punctuation">,</span>  c_contact<span class="token punctuation">,</span> c_email<span class="token punctuation">)</span> 
<span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">'RedHook'</span><span class="token punctuation">,</span> <span class="token string">'200 Street '</span><span class="token punctuation">,</span> <span class="token string">'Tianjin'</span><span class="token punctuation">,</span> 
 <span class="token string">'300000'</span><span class="token punctuation">,</span>  <span class="token string">'LiMing'</span><span class="token punctuation">,</span> <span class="token string">'LMing@163.com'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10002</span><span class="token punctuation">,</span> <span class="token string">'Stars'</span><span class="token punctuation">,</span> <span class="token string">'333 Fromage Lane'</span><span class="token punctuation">,</span>
 <span class="token string">'Dalian'</span><span class="token punctuation">,</span> <span class="token string">'116000'</span><span class="token punctuation">,</span>  <span class="token string">'Zhangbo'</span><span class="token punctuation">,</span><span class="token string">'Jerry@hotmail.com'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10003</span><span class="token punctuation">,</span> <span class="token string">'Netbhood'</span><span class="token punctuation">,</span> <span class="token string">'1 Sunny Place'</span><span class="token punctuation">,</span> <span class="token string">'Qingdao'</span><span class="token punctuation">,</span>  <span class="token string">'266000'</span><span class="token punctuation">,</span>
 <span class="token string">'LuoCong'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10004</span><span class="token punctuation">,</span> <span class="token string">'JOTO'</span><span class="token punctuation">,</span> <span class="token string">'829 Riverside Drive'</span><span class="token punctuation">,</span> <span class="token string">'Haikou'</span><span class="token punctuation">,</span> 
 <span class="token string">'570000'</span><span class="token punctuation">,</span>  <span class="token string">'YangShan'</span><span class="token punctuation">,</span> <span class="token string">'sam@hotmail.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询 customers 表中c_email为空的记录的c_id、c_name和c_email字段值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select c_id<span class="token punctuation">,</span> c_name<span class="token punctuation">,</span>c_email <span class="token keyword">from</span>  customers where c_email is <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询customers表中c_email不为空的记录的c_id、c_name和c_email字段值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select c_id<span class="token punctuation">,</span> c_name<span class="token punctuation">,</span>c_email <span class="token keyword">from</span>  customers where c_email is not <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="and-多条件查询"><a href="#and-多条件查询" class="header-anchor">#</a> and 多条件查询</h3> <p>同时满足多条件查询,</p> <ul><li>【例】fruits表中查询s_id = 101，并且f_price大于等于5的水果价格和名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_id<span class="token punctuation">,</span> f_price<span class="token punctuation">,</span> f_name <span class="token keyword">from</span> fruits where s_id <span class="token operator">=</span> <span class="token string">'101'</span> and f_price <span class="token operator">&gt;=</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中查询s_id = 101或者102，且f_price大于5，并且f_name=‘apple’的水果价格和名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f_id<span class="token punctuation">,</span> f_price<span class="token punctuation">,</span> f_name <span class="token keyword">from</span> fruits 
where s_id <span class="token constant">IN</span><span class="token punctuation">(</span><span class="token string">'101'</span><span class="token punctuation">,</span> <span class="token string">'102'</span><span class="token punctuation">)</span> and f_price <span class="token operator">&gt;=</span> <span class="token number">5</span> and f_name <span class="token operator">=</span> <span class="token string">'apple'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="or-查询"><a href="#or-查询" class="header-anchor">#</a> or 查询</h3> <p>满足一个条件即可返回。or也可以连接两个甚至多个查询条件。多个条件表达式用and分开。</p> <ul><li>【例】查询s_id=101或者s_id=102的水果供应商的f_price和f_name</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span>f_name<span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits where s_id <span class="token operator">=</span> <span class="token number">101</span> <span class="token constant">OR</span> s_id <span class="token operator">=</span> <span class="token number">102</span><span class="token punctuation">;</span>

select s_id<span class="token punctuation">,</span>f_name<span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits where s_id <span class="token keyword">in</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="distinct-去重复查询"><a href="#distinct-去重复查询" class="header-anchor">#</a> distinct 去重复查询</h3> <ul><li>【例】查询fruits表中s_id字段的值，返回s_id字段值且不得重复,desc 降序排序,asc 升序</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select distinct s_id <span class="token keyword">from</span> fruits<span class="token punctuation">;</span>
</code></pre></div><h2 id="对查询结果排序"><a href="#对查询结果排序" class="header-anchor">#</a> 对查询结果排序</h2> <p>mysql 中可以通过select 使用order by 子句对查询的结果进行排序</p> <ul><li>单列排序</li> <li>多列排序</li> <li>指定排序方向，升序，降序</li></ul> <ol><li>查询fruits表的f_name字段值，并对其进行排序,默认升序排序</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>select f_name <span class="token keyword">from</span> fruits order by f_name<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询fruits表中的f_name和f_price字段，先按f_name排序，再按f_price排序</li></ol> <blockquote><p>SELECT f_name, f_price FROM fruits ORDER BY f_name, f_price;</p></blockquote> <ol start="3"><li>查询fruits表中的f_name和f_price字段，对结果按f_price降序方式排序</li></ol> <blockquote><p>SELECT f_name, f_price FROM fruits ORDER BY f_price DESC;</p></blockquote> <ol start="4"><li>查询fruits表，先按f_price降序排序，再按f_name字段升序排序</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> f_price<span class="token punctuation">,</span> f_name <span class="token constant">FROM</span> fruits <span class="token constant">ORDER</span> <span class="token constant">BY</span> f_price <span class="token constant">DESC</span><span class="token punctuation">,</span> f_name<span class="token punctuation">;</span>
</code></pre></div><h3 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询</h3> <ol><li><p>分组查询是对数据按照某个或者多个字段查询进行分组。</p></li> <li><p>[group by 字段] [having &lt;条件表达式&gt;]</p> <ul><li>创建分组</li> <li>使用having过滤分组</li> <li>在group by 子句中使用with rollup(总和)</li> <li>多字段分组</li> <li>group by 和 order by 一起使用</li></ul></li></ol> <ul><li>【例】根据s_id对fruits表中的数据进行分组</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="group-by"><a href="#group-by" class="header-anchor">#</a> group by</h3> <ul><li>【例】根据s_id对fruits表中的数据进行分组，将每个供应商的水果名称显示出来,group_concat聚合函数，也可以排序</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span> <span class="token function">group_concat</span><span class="token punctuation">(</span>f_name order by f_name asc <span class="token punctuation">)</span> <span class="token keyword">as</span> names <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="having"><a href="#having" class="header-anchor">#</a> having</h3> <p>having：用于对where和group by查询出来的分组经行过滤，查出满足条件的分组结果。它是一个过滤声明，是在查询返回结果集以后对查询结果进行的过滤操作。
执行顺序：select –&gt;where –&gt; group by–&gt; having–&gt;order by</p> <ul><li>【例】根据s_id对fruits表中的数据进行分组，并显示水果种类大于1的分组信息,count()函数，返回总数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id <span class="token punctuation">,</span> <span class="token function">group_concat</span><span class="token punctuation">(</span>f_name<span class="token punctuation">)</span> <span class="token keyword">as</span> names <span class="token keyword">from</span> fruits group by s_id having <span class="token function">count</span><span class="token punctuation">(</span>f_name<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="with-rollup-ifnull"><a href="#with-rollup-ifnull" class="header-anchor">#</a> with rollup， ifnull()</h3> <p>with rollup是用来在分组统计数据的基础上再进行统计汇总</p> <ul><li>【例】根据s_id对fruits表中的数据进行分组，并显示记录数量</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token function">ifnull</span><span class="token punctuation">(</span>s_id<span class="token punctuation">,</span><span class="token string">'总数'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> s_id <span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">from</span> fruits group by s_id <span class="token keyword">with</span> rollup<span class="token punctuation">;</span>
</code></pre></div><h3 id="多字段分组"><a href="#多字段分组" class="header-anchor">#</a> 多字段分组</h3> <ul><li>【例】根据s_id和f_name字段对fruits表中的数据进行分组，分析：先按照s_id分组，在f_name分组</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits group by s_id <span class="token punctuation">,</span>f_name<span class="token punctuation">;</span>
</code></pre></div><p>为了演示效果，首先创建数据表</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">orderitems</span>
<span class="token punctuation">(</span>
  o_num      int          <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  o_item     int          <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  f_id       <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>     <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  quantity   int          <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  item_price <span class="token function">decimal</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span>o_num<span class="token punctuation">,</span>o_item<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre></div><p>然后插入演示数据。SQL语句如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">orderitems</span><span class="token punctuation">(</span>o_num<span class="token punctuation">,</span> o_item<span class="token punctuation">,</span> f_id<span class="token punctuation">,</span> quantity<span class="token punctuation">,</span> item_price<span class="token punctuation">)</span>
<span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">30001</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30001</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30001</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'bs1'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30001</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'bs2'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30002</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b3'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30003</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'c0'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30004</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'o2'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2.50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30005</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'c0'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30005</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b1'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8.99</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30005</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'a2'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30005</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'m1'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">14.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询订单价格大于100的订单号和总订单价格</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select o_num <span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>quantity <span class="token operator">*</span> item_price<span class="token punctuation">)</span> <span class="token keyword">as</span> orderTotal 
<span class="token keyword">from</span> orderitems 
group by o_num having <span class="token function">sum</span><span class="token punctuation">(</span>quantity <span class="token operator">*</span> item_price<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="group-by-和-order-by一起使用"><a href="#group-by-和-order-by一起使用" class="header-anchor">#</a> group by 和 order by一起使用</h3> <ul><li>【例】可以看到，返回的结果中orderTotal列的总订单价格并没有按照一定顺序显示，接下来，使用ORDER BY关键字按总订单价格排序显示结果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> select o_num <span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>quantity<span class="token operator">*</span>item_price<span class="token punctuation">)</span> <span class="token keyword">as</span> orderTotal 
 <span class="token keyword">from</span> orderitems 
 group by o_num having <span class="token function">sum</span><span class="token punctuation">(</span>quantity<span class="token operator">*</span>item_price<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">100</span> order by orderTotal<span class="token punctuation">;</span>
</code></pre></div><h3 id="用limit-限制查询结果的数量"><a href="#用limit-限制查询结果的数量" class="header-anchor">#</a> 用limit 限制查询结果的数量</h3> <ol><li>limit 关键字可以用放回指定位置的记录</li> <li>limit [位置偏移量，]行数</li></ol> <ul><li>【例】限制返回前4行，</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits limit <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】返回从第5个记录开始的，行数长度为3的记录，索引重0开始。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits limit <span class="token number">4</span> <span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="使用集合函数查询"><a href="#使用集合函数查询" class="header-anchor">#</a> 使用集合函数查询</h2> <ol><li>count() 函数
<ul><li>统计数据表中包含的记录行的总数，或者根据查询结果返回的列中包含数据行数</li> <li>count(*)</li> <li>count(字段名)</li></ul></li> <li>sum() 函数
<ul><li>sum()是一个求总和的函数，返回指定列值的总和。</li></ul></li> <li>avg() 函数
<ul><li>avg()函数通过计算返回的行数和每一行数据的和，就得指定列数据的平均值。</li></ul></li> <li>max() 函数
<ul><li>返回指定列中的最大值</li></ul></li> <li>min() 函数
<ul><li>返回指定列中的最小值</li></ul></li></ol> <h3 id="count-使用"><a href="#count-使用" class="header-anchor">#</a> count()使用</h3> <ul><li>【例】查询customers表中总的行数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">from</span> customers<span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询customers表中有电子邮箱的顾客的总数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token function">count</span><span class="token punctuation">(</span>c_email<span class="token punctuation">)</span> <span class="token keyword">as</span> emailTotal <span class="token keyword">from</span> customers<span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在 orderitems 表中，使用COUNT()函数统计不同订单号中订购的水果种类,水果种类进行升序排序</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select o_num <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>f_id<span class="token punctuation">)</span> <span class="token keyword">as</span> f_id_num <span class="token keyword">from</span> orderitems group by o_num order by f_id_num<span class="token punctuation">;</span>

### <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>使用
</code></pre></div><ul><li>【例】在 orderitems 表中查询30005号订单一共购买的水果总量</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select o_num <span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>quantity<span class="token punctuation">)</span> <span class="token keyword">as</span> items_total <span class="token keyword">from</span> orderitems where o_num <span class="token operator">=</span> <span class="token string">'30005'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在 orderitems 表中，使用SUM()函数统计不同订单号中订购的水果总量</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select o_num <span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>quantity<span class="token punctuation">)</span> <span class="token keyword">as</span> items_total <span class="token keyword">from</span> orderitems group by o_num order by items_total<span class="token punctuation">;</span>
</code></pre></div><h3 id="avg-使用"><a href="#avg-使用" class="header-anchor">#</a> avg()使用</h3> <ul><li>【例】在 fruits 表中，查询每一个供应商的水果价格的平均值,平均值保留两位小数点</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span> <span class="token function">cast</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token function">decimal</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>s_id<span class="token punctuation">)</span> <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="max-使用"><a href="#max-使用" class="header-anchor">#</a> max()使用</h3> <ul><li>【例】在 fruits 表中查找市场上价格最高的水果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span>f_name<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span> <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在 fruits 表中查找 f_name 的最大值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>f_name<span class="token punctuation">)</span> <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="min-使用"><a href="#min-使用" class="header-anchor">#</a> min()使用</h3> <ul><li>【例】在 fruits 表中查找市场上价格最低的水果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token function">min</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span> <span class="token keyword">from</span> fruits<span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在 fruits 表中查找不同供应商提供的价格最低的水果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id<span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>f_price<span class="token punctuation">)</span> <span class="token keyword">from</span> fruits group by s_id<span class="token punctuation">;</span>
</code></pre></div><h2 id="连表查询"><a href="#连表查询" class="header-anchor">#</a> 连表查询</h2> <h3 id="内连接查询"><a href="#内连接查询" class="header-anchor">#</a> 内连接查询</h3> <ul><li>内连接使用比较运算符进行表间某些列数据的比较操作，并列出这些表中与连接条件相匹配的数据行，组合成新的记录，也就是说，在内连接查询中，只有满足条件的记录才能出现在结果关系中。</li></ul> <p>案例：</p> <p>为了演示的需要，首先创建数据表suppliers，SQL语句如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>create table <span class="token function">suppliers</span><span class="token punctuation">(</span>
  s_id       int  not <span class="token keyword">null</span> auto_increment comment <span class="token string">'供应商id'</span><span class="token punctuation">,</span>
  s_name     <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> not <span class="token keyword">null</span> comment <span class="token string">'供应商名称'</span><span class="token punctuation">,</span>
  s_city     <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  s_zip      <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  s_call     <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> not <span class="token keyword">null</span><span class="token punctuation">,</span>
  primary <span class="token function">key</span> <span class="token punctuation">(</span>s_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>插入需要演示的数据，SQL语句如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">suppliers</span><span class="token punctuation">(</span>s_id<span class="token punctuation">,</span> s_name<span class="token punctuation">,</span>s_city<span class="token punctuation">,</span>  s_zip<span class="token punctuation">,</span> s_call<span class="token punctuation">)</span>
<span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token string">'FastFruit Inc.'</span><span class="token punctuation">,</span><span class="token string">'Tianjin'</span><span class="token punctuation">,</span><span class="token string">'300000'</span><span class="token punctuation">,</span><span class="token string">'48075'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token string">'LT Supplies'</span><span class="token punctuation">,</span><span class="token string">'Chongqing'</span><span class="token punctuation">,</span><span class="token string">'400000'</span><span class="token punctuation">,</span><span class="token string">'44333'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">103</span><span class="token punctuation">,</span><span class="token string">'ACME'</span><span class="token punctuation">,</span><span class="token string">'Shanghai'</span><span class="token punctuation">,</span><span class="token string">'200000'</span><span class="token punctuation">,</span><span class="token string">'90046'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">104</span><span class="token punctuation">,</span><span class="token string">'FNK Inc.'</span><span class="token punctuation">,</span><span class="token string">'Zhongshan'</span><span class="token punctuation">,</span><span class="token string">'528437'</span><span class="token punctuation">,</span><span class="token string">'11111'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token string">'Good Set'</span><span class="token punctuation">,</span><span class="token string">'Taiyuang'</span><span class="token punctuation">,</span><span class="token string">'030000'</span><span class="token punctuation">,</span> <span class="token string">'22222'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token string">'Just Eat Ours'</span><span class="token punctuation">,</span><span class="token string">'Beijing'</span><span class="token punctuation">,</span><span class="token string">'010'</span><span class="token punctuation">,</span> <span class="token string">'45678'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">107</span><span class="token punctuation">,</span><span class="token string">'DK Inc.'</span><span class="token punctuation">,</span><span class="token string">'Zhengzhou'</span><span class="token punctuation">,</span><span class="token string">'450000'</span><span class="token punctuation">,</span> <span class="token string">'33332'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>在fruits表和suppliers表之间使用内连接查询。</li></ul> <p>注释：查询之前，查看两个表的结构：</p> <div class="language-js extra-class"><pre class="language-js"><code>desc fruits<span class="token punctuation">;</span>
desc suppliers<span class="token punctuation">;</span>
</code></pre></div><p>由结果可以看到，fruits表和suppliers表中都有相同数据类型的字段s_id,两个表通过s_id字段建立联系。接下来从fruits表中查询f_name、f_price字段，从suppliers表中查询s_id、s_name。sql语句：</p> <div class="language-js extra-class"><pre class="language-js"><code>select suppliers<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>s_name<span class="token punctuation">,</span>f_name<span class="token punctuation">,</span>f_price 
<span class="token keyword">from</span> 
fruits <span class="token punctuation">,</span>suppliers where fruits<span class="token punctuation">.</span>s_id <span class="token operator">=</span> suppliers<span class="token punctuation">.</span>s_id<span class="token punctuation">;</span>
</code></pre></div><h4 id="同表别名内连接"><a href="#同表别名内连接" class="header-anchor">#</a> 同表别名内连接</h4> <ul><li>【例】查询供应f_id= ‘a1’的水果供应商提供的其他水果种类</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f1<span class="token punctuation">.</span>f_id<span class="token punctuation">,</span>f1<span class="token punctuation">.</span>f_name <span class="token keyword">from</span> 
fruits <span class="token keyword">as</span> f1<span class="token punctuation">,</span>fruits <span class="token keyword">as</span> f2 where f1<span class="token punctuation">.</span>s_id <span class="token operator">=</span> f2<span class="token punctuation">.</span>s_id and f2<span class="token punctuation">.</span>f_id <span class="token operator">=</span> <span class="token string">'a1'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="外连接查询"><a href="#外连接查询" class="header-anchor">#</a> 外连接查询</h3> <ul><li>返回到查询结果集合中的不仅包含符合连接条件的行，而且还包括左表（左外连接或者左连接）、右表（右外连接或右连接）或者两个边接表（全外连接）中的所有数据行。
<ul><li>leet jion (左连接，返回左表所有的行)</li> <li>right jion (右连接，返回右表所有的行)</li></ul></li></ul> <p>案例：</p> <p>首先创建表orders</p> <div class="language-js extra-class"><pre class="language-js"><code>create table <span class="token function">orders</span> <span class="token punctuation">(</span>
  o_num   int      not <span class="token keyword">null</span> auto_increment comment <span class="token string">'订单num'</span><span class="token punctuation">,</span>
  o_date  datetime not <span class="token keyword">null</span><span class="token punctuation">,</span>
  c_id    int      not <span class="token keyword">null</span><span class="token punctuation">,</span>
  primary <span class="token function">key</span> <span class="token punctuation">(</span>o_num<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>插入数据</p> <div class="language-js extra-class"><pre class="language-js"><code>insert into <span class="token function">orders</span><span class="token punctuation">(</span>o_num<span class="token punctuation">,</span>o_date<span class="token punctuation">,</span>c_id<span class="token punctuation">)</span>  <span class="token function">values</span> <span class="token punctuation">(</span><span class="token number">30002</span><span class="token punctuation">,</span> <span class="token string">'2008-09-12'</span><span class="token punctuation">,</span> <span class="token number">10003</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30003</span><span class="token punctuation">,</span> <span class="token string">'2008-09-30'</span><span class="token punctuation">,</span> <span class="token number">10004</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30004</span><span class="token punctuation">,</span> <span class="token string">'2008-10-03'</span><span class="token punctuation">,</span> <span class="token number">10005</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30005</span><span class="token punctuation">,</span> <span class="token string">'2008-10-08'</span><span class="token punctuation">,</span> <span class="token number">10001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>左连接</li></ul> <p>【例】在 customers 表和 orders 表中，查询所有客户，包括没有订单的客户。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> customers<span class="token punctuation">.</span>c_id <span class="token punctuation">,</span> orders<span class="token punctuation">.</span>o_num <span class="token constant">FROM</span>
 customers <span class="token constant">LEFT</span> <span class="token constant">OUTER</span> <span class="token constant">JOIN</span> orders <span class="token constant">ON</span> customers<span class="token punctuation">.</span>c_id <span class="token operator">=</span> orders<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre></div><ul><li>右连接</li></ul> <p>右连接是左连接的反向连接，将返回右表的所有行。如果右表的某行在左表中没有匹配行，左表将返回空值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> customers<span class="token punctuation">.</span>c_id <span class="token punctuation">,</span>orders<span class="token punctuation">.</span>o_num <span class="token constant">FROM</span> customers <span class="token constant">RIGHT</span> <span class="token constant">OUTER</span> <span class="token constant">JOIN</span> orders <span class="token constant">ON</span> customers<span class="token punctuation">.</span>c_id <span class="token operator">=</span> orders<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="复合条件连接查询"><a href="#复合条件连接查询" class="header-anchor">#</a> 复合条件连接查询</h3> <ul><li>复合条件连接查询是在连接查询的过程中，通过添加过滤条件，限制查询的结果。</li> <li>语法：inner join</li></ul> <p>案例：</p> <p>在customers表和orders表中，使用INNER JOIN语法查询customers表中ID为10001的客户的订单信息。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> customers <span class="token constant">INNER</span> <span class="token constant">JOIN</span> orders <span class="token constant">ON</span> 
customers<span class="token punctuation">.</span>c_id <span class="token operator">=</span> orders<span class="token punctuation">.</span>c_id <span class="token constant">AND</span> customers<span class="token punctuation">.</span>c_id <span class="token operator">=</span><span class="token number">10001</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在 fruits 表和 suppliers 表之间，使用INNER JOIN语法进行内连接查询，并对查询结果排序</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select suppliers<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span> s_name<span class="token punctuation">,</span>f_name<span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits 
<span class="token constant">INNER</span> <span class="token constant">JOIN</span> suppliers <span class="token constant">ON</span> fruits<span class="token punctuation">.</span>s_id <span class="token operator">=</span> suppliers<span class="token punctuation">.</span>s_id order by fruits<span class="token punctuation">.</span>s_id<span class="token punctuation">;</span>
</code></pre></div><h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h2> <h3 id="带any-some-关键字的子查询"><a href="#带any-some-关键字的子查询" class="header-anchor">#</a> 带any ,some 关键字的子查询</h3> <p>any 和some 关键字是同义词，表示满足其中任一条件，他们允许创建一个表达式对子查询的返回值列表进行比较，只要满足内层子查询中的任何一个比较条件，就返回一个结果作为外层查询的条件。</p> <p>案例：</p> <p>下面定义两个表tb1和tb2：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">CREATE</span> table <span class="token function">tbl1</span> <span class="token punctuation">(</span> num1 <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">CREATE</span> table <span class="token function">tbl2</span> <span class="token punctuation">(</span> num2 <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>分别向两个表中插入数据：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">INSERT</span> <span class="token constant">INTO</span> tbl1 <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> tbl2 <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ANY关键字接在一个比较操作符的后面，表示若与子查询返回的任何值比较为TRUE，则返回TRUE。</p> <ul><li>【例】返回tbl2表的所有num2列，然后将tbl1中的num1的值与之进行比较，只要大于num2的任何1个值，即为符合查询条件的结果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> num1 <span class="token constant">FROM</span> tbl1 where num1 <span class="token operator">&gt;</span> <span class="token constant">ANY</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> num2 <span class="token constant">FROM</span> tbl2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token constant">SELECT</span> num1 <span class="token constant">FROM</span> tbl1 where num1 <span class="token operator">&gt;</span> <span class="token constant">SOME</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> num2 <span class="token constant">FROM</span> tbl2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带all-关键字查询"><a href="#带all-关键字查询" class="header-anchor">#</a> 带all 关键字查询</h3> <p>all 关键字与any,some不同，使用all是需要同时满足所有内层查询的条件。</p> <p>案例：</p> <ul><li>返回tbl1表中比tbl2表num2 列所有值都大的值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select num1 <span class="token keyword">from</span> tbl1 where num1 <span class="token operator">&gt;</span> <span class="token function">all</span> <span class="token punctuation">(</span>select num2 <span class="token keyword">from</span> tbl2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带exists-关键字的子查询"><a href="#带exists-关键字的子查询" class="header-anchor">#</a> 带exists 关键字的子查询</h3> <p>exists关键字后面的参数是一个任意的子查询，系统对子查询进行运算以判断它是否返回行，如果至少返回一个，那么exists的结果为true,此时外层查询语句将进行查询；如果子查询没有返回任何行，那么exists返回的结果是false,此时外层语句将不进行查询</p> <p>案例：</p> <ul><li>【例】查询suppliers表中是否存在s_id=107的供应商，如果存在，则查询fruits表中的记录,
(SELECT s_name FROM suppliers WHERE s_id = 107)有结果，所以执行SELECT * FROM fruits;</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> fruits
     <span class="token constant">WHERE</span> <span class="token constant">EXISTS</span>
     <span class="token punctuation">(</span><span class="token constant">SELECT</span> s_name <span class="token constant">FROM</span> suppliers <span class="token constant">WHERE</span> s_id <span class="token operator">=</span> <span class="token number">107</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询suppliers表中是否存在s_id=107的供应商，如果存在，则查询fruits表中的f_price大于10.20的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_price <span class="token operator">&gt;</span> <span class="token number">10.20</span> and <span class="token function">exists</span> 
<span class="token punctuation">(</span>select <span class="token operator">*</span> <span class="token keyword">from</span> suppliers where s_id<span class="token operator">=</span><span class="token number">107</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询suppliers表中是否存在s_id=107的供应商，如果不存在则查询fruits表中的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where not <span class="token function">exists</span> <span class="token punctuation">(</span>select <span class="token operator">*</span> <span class="token keyword">from</span> suppliers where s_id<span class="token operator">=</span><span class="token number">107</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带in-关键字的子查询"><a href="#带in-关键字的子查询" class="header-anchor">#</a> 带in 关键字的子查询</h3> <p>in 关键字进行子查询时，内层查询语句仅仅返回一个数据列，这个数据列里的值将提供给外层查询语句进行比较操作。</p> <p>案例：</p> <ul><li>【例】在orderitems表中查询f_id为c0的订单号(o_num)，并根据订单号orders表查询具有订单号的客户c_id。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select c_id <span class="token keyword">from</span> orders where o_num <span class="token constant">IN</span> <span class="token punctuation">(</span>select o_num <span class="token keyword">from</span> orderitems where f_id<span class="token operator">=</span><span class="token string">'c0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>select o_num  from orderitems where f_id = 'c0';
可以看到，符合条件的o_num列的值有两个：30003和30005，然后执行外层查询，在orders表中查询订单号等于30003或30005的客户c_id。嵌套子查询语句还可以写为如下形式，实现相同的效果：
select c_id from orders where o_num IN (30003, 30005);</p> <ul><li>与前一个例子类似，但是在SELECT语句中使用NOT IN关键字;</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select c_id <span class="token keyword">from</span> orders where o_num <span class="token constant">NOT</span> <span class="token constant">IN</span> <span class="token punctuation">(</span>select o_num <span class="token keyword">from</span> orderitems where f_id<span class="token operator">=</span><span class="token string">'c0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带比较运算符的子查询"><a href="#带比较运算符的子查询" class="header-anchor">#</a> 带比较运算符的子查询</h3> <p>在前面介绍的带any,all关键字的子查询时，使用了'&gt;'比较运算符，子查询时还可以使用其他的比较运算符，如&lt;、&lt;=、=、&gt;=和!= 等。</p> <p>案例：</p> <ul><li>【例】在suppliers表中查询s_city等于“Tianjin”的供应商s_id，然后在fruits表中查询所有该供应商提供的水果的种类</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where s_id <span class="token operator">=</span> <span class="token punctuation">(</span>select su1<span class="token punctuation">.</span>s_id <span class="token keyword">from</span> suppliers <span class="token keyword">as</span> su1 where su1<span class="token punctuation">.</span>s_city<span class="token operator">=</span><span class="token string">'Tianjin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="union-union-all合并查询结果"><a href="#union-union-all合并查询结果" class="header-anchor">#</a> union , union all合并查询结果</h2> <ol><li><p>利用union关键字，可以给出多条select语句，并将它们的结果组合成单个结果集。合并时，两个表对于的列数和数据类型必须相同。各个select语句之间使用union或者union all 关键字分隔。</p></li> <li><p>union all是不处理重复值的。</p></li></ol> <p>案例：</p> <ul><li>【例】查询所有价格小于9的水果的信息，查询s_id等于101和103所有的水果的信息，使用UNION连接查询结果。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select s_id <span class="token punctuation">,</span> f_name <span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits 
where f_price <span class="token operator">&lt;</span> <span class="token number">9.0</span> 
union all <span class="token constant">SELECT</span> s_id <span class="token punctuation">,</span>f_name <span class="token punctuation">,</span>f_price <span class="token constant">FROM</span> fruits <span class="token constant">WHERE</span> s_id <span class="token constant">IN</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>返回结果：</p> <div class="language- extra-class"><pre class="language-text"><code>+------+------------+---------+
| s_id | f_name     | f_price |
+------+------------+---------+
|  101 | apple      |    5.20 |
|  103 | apricot    |    2.20 |
|  104 | berry      |    7.60 |
|  107 | xxxx       |    3.60 |
|  105 | melon      |    8.20 |
|  101 | cherry     |    3.20 |
|  104 | lemon      |    6.40 |
|  105 | xbabay     |    2.60 |
|  102 | grape      |    5.30 |
|  107 | xbababa    |    3.60 |
|  101 | apple      |    5.20 |
|  103 | apricot    |    2.20 |
|  101 | blackberry |   10.20 |
|  101 | cherry     |    3.20 |
|  103 | coconut    |    9.20 |
+------+------------+---------+
15 rows in set (0.00 sec)
</code></pre></div><p>注：UNION将多个SELECT语句的结果组合成一个结果集合。
可以分开查看每个SELECT语句的结果：</p> <div class="language-js extra-class"><pre class="language-js"><code>select s_id <span class="token punctuation">,</span> f_name <span class="token punctuation">,</span> f_price <span class="token keyword">from</span> fruits where f_price <span class="token operator">&lt;</span> <span class="token number">9.0</span> <span class="token punctuation">;</span>
</code></pre></div><p>返回结果：</p> <div class="language- extra-class"><pre class="language-text"><code>+------+---------+---------+
| s_id | f_name  | f_price |
+------+---------+---------+
|  101 | apple   |    5.20 |
|  103 | apricot |    2.20 |
|  104 | berry   |    7.60 |
|  107 | xxxx    |    3.60 |
|  105 | melon   |    8.20 |
|  101 | cherry  |    3.20 |
|  104 | lemon   |    6.40 |
|  105 | xbabay  |    2.60 |
|  102 | grape   |    5.30 |
|  107 | xbababa |    3.60 |
+------+---------+---------+
10 rows in set (0.00 sec)
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SELECT</span> s_id <span class="token punctuation">,</span>f_name <span class="token punctuation">,</span>f_price <span class="token constant">FROM</span> fruits <span class="token constant">WHERE</span> s_id <span class="token constant">IN</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>返回结果：</p> <div class="language- extra-class"><pre class="language-text"><code>+------+------------+---------+
| s_id | f_name     | f_price |
+------+------------+---------+
|  101 | apple      |    5.20 |
|  103 | apricot    |    2.20 |
|  101 | blackberry |   10.20 |
|  101 | cherry     |    3.20 |
|  103 | coconut    |    9.20 |
+------+------------+---------+
5 rows in set (0.00 sec)
</code></pre></div><p>然后两个合拼一起返回结果。</p> <h2 id="为表和字段取别名"><a href="#为表和字段取别名" class="header-anchor">#</a> 为表和字段取别名</h2> <ul><li>为表取别名
<ul><li>语法： 表名 [AS] 表别名</li></ul></li> <li>为字段取别名
<ul><li>语法： 字段名 [AS] 字段别名</li></ul></li></ul> <p>为表取别名 案例 ：</p> <ul><li>【例】为orders表取别名o，查询30001订单的下单日期,SQL语句如下</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> orders <span class="token constant">AS</span> o where o<span class="token punctuation">.</span>o_num <span class="token operator">=</span> <span class="token number">30001</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】为customers和orders表分别取别名，并进行连接查询,SQL语句如下</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>o<span class="token punctuation">.</span>o_num <span class="token keyword">from</span> customers <span class="token keyword">as</span> c  <span class="token constant">LEFT</span> <span class="token constant">OUTER</span> <span class="token constant">JOIN</span>  orders <span class="token keyword">as</span> o on c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> o<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre></div><p>由结果看到，MySQL可以同时为多个表取别名，而且表别名可以放在不同的位置，如WHERE子句、SELECT列表、ON子句以及ORDER BY子句等。
在前面介绍内连接查询时指出自连接是一种特殊的内连接，在连接查询中的两个表都是同一个表</p> <p>为字段取别名 案例 ：</p> <ul><li>【例】查询fruits表，为f_name取别名fruit_name，f_price取别名fruit_price，为fruits表取别名f1，查询表中f_price &lt; 8的水果的名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select f1<span class="token punctuation">.</span>f_name <span class="token keyword">as</span> fruit_name <span class="token punctuation">,</span>f1<span class="token punctuation">.</span>f_price <span class="token keyword">as</span> fruit_price 
<span class="token keyword">from</span> fruits <span class="token keyword">as</span> f1 where f1<span class="token punctuation">.</span>f_price <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】查询suppliers表中字段s_name和s_city，使用CONCAT函数连接这两个字段值，并取列别名为suppliers_title。
注：函数结果集取别名</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token constant">CONCAT</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span>s_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'('</span><span class="token punctuation">,</span><span class="token function">trim</span><span class="token punctuation">(</span>s_city<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">')'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> suppliers_title
<span class="token keyword">from</span> suppliers order by s_name<span class="token punctuation">;</span>
</code></pre></div><h2 id="使用正则表达式查询"><a href="#使用正则表达式查询" class="header-anchor">#</a> 使用正则表达式查询</h2> <p>语法：REGEXP</p> <ul><li>查询以特定字符或者字符串开头‘^’的记录</li> <li>查询以特定字符或者字符串结尾‘$’的记录</li> <li>用符合‘.’来代替字符串中的任意一个字符</li> <li>使用‘*’ 和‘+’ 来匹配多个字符</li> <li>匹配指定字符串</li> <li>匹配指定字符中的任意一个</li> <li>匹配指定字符以外的字符</li> <li>使用{m}或者{m,n}来指定字符串连续出现的次数</li></ul> <h3 id="以-开头-匹配以特定字符或者字符串开头的文本。"><a href="#以-开头-匹配以特定字符或者字符串开头的文本。" class="header-anchor">#</a> 以‘^’开头，匹配以特定字符或者字符串开头的文本。</h3> <ul><li>【例】在fruits表中，查询f_name字段以字母’b’开头的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'^b'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中，查询f_name字段以“be”开头的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'^be'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查询以特定字符或者字符串结尾-的记录"><a href="#查询以特定字符或者字符串结尾-的记录" class="header-anchor">#</a> 查询以特定字符或者字符串结尾‘$’的记录</h3> <ul><li>【例】在fruits表中，查询f_name字段以字母’y’结尾的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'y$'</span><span class="token punctuation">;</span>
</code></pre></div><p>-【例7.71】在fruits表中，查询f_name字段以字符串“rry”结尾的记录</p> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'rry$'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="用符合-来代替字符串中的任意一个字符"><a href="#用符合-来代替字符串中的任意一个字符" class="header-anchor">#</a> 用符合‘.’来代替字符串中的任意一个字符</h3> <ul><li>【例7.72】在fruits表中，查询f_name字段值包含字母’a’与’g’且两个字母之间只有一个字母的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'a.g'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用-和-来匹配多个字符"><a href="#使用-和-来匹配多个字符" class="header-anchor">#</a> 使用‘*’ 和‘+’ 来匹配多个字符</h3> <p>星号’*’匹配前面的字符任意多次，包括0次。加号’+’匹配前面的字符至少一次。</p> <ul><li>【例】在fruits表中，查询f_name字段值以字母’b’开头，且’b’后面出现字母’a’的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'^ba*'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中，查询f_name字段值以字母’b’开头，且’b’后面出现字母’a’至少一次的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'^ba+'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="匹配指定字符串"><a href="#匹配指定字符串" class="header-anchor">#</a> 匹配指定字符串</h3> <p>正则表达式可以匹配指定字符串，只要这个字符串在查询文本中即可，如要匹配多个字符串，多个字符串之间使用分隔符’|’隔开</p> <ul><li>【例】在fruits表中，查询f_name字段值包含字符串“on”的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'on'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中，查询f_name字段值包含字符串“on”或者“ap”的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'on|ap'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>【例】在fruits表中，使用LIKE运算符查询f_name字段值为“on”的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name like <span class="token string">'on'</span><span class="token punctuation">;</span>
<span class="token comment">//相当于</span>
select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name <span class="token operator">=</span> <span class="token string">'on'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="匹配指定字符中的任意一个"><a href="#匹配指定字符中的任意一个" class="header-anchor">#</a> 匹配指定字符中的任意一个</h3> <p>方括号“[]”指定一个字符集合，只匹配其中任何一个字符，即为所查找的文本。</p> <ul><li>【例】在fruits表中，查找f_name字段中包含字母’o’或者’t’的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'[ot]'</span><span class="token punctuation">;</span>
</code></pre></div><p>所有返回的记录的f_name字段的值中都包含有字母o或者t，或者两个都有。</p> <ul><li>【例】在fruits表，查询s_id字段中数值中包含4、5或者6的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where s_id regexp <span class="token string">'[456]'</span><span class="token punctuation">;</span>
</code></pre></div><p>###　匹配指定字符以外的字符</p> <p>“[^字符集合]”匹配不在指定集合中的任何字符。</p> <ul><li>【例】在fruits表中，查询f_id字段包含字母a~e和数字1~2以外的字符的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_id regexp <span class="token string">'[^a-e1-2]'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用-m-或者-m-n-来指定字符串连续出现的次数"><a href="#使用-m-或者-m-n-来指定字符串连续出现的次数" class="header-anchor">#</a> 使用{m}或者{m,n}来指定字符串连续出现的次数</h3> <ul><li>【例】在fruits表中，查询f_name字段值出现字母’x’至少2次的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'x{2,}'</span><span class="token punctuation">;</span>
<span class="token comment">//结果</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> f_id <span class="token operator">|</span> s_id <span class="token operator">|</span> f_name <span class="token operator">|</span> f_price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> b5  <span class="token operator">|</span>  <span class="token number">107</span> <span class="token operator">|</span> xxxx  <span class="token operator">|</span>   <span class="token number">3.60</span> <span class="token operator">|</span>
<span class="token operator">|</span> m3  <span class="token operator">|</span>  <span class="token number">105</span> <span class="token operator">|</span> xxtt  <span class="token operator">|</span>  <span class="token number">11.60</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre></div><ul><li>【例】在fruits表中，查询f_name字段值出现字符串“ba”最少1次，最多3次的记录</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> fruits where f_name regexp <span class="token string">'ba{1,3}'</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ChaselLHL/myBlog/edit/master/docs/mysql/operate_sql.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/29/2021, 2:22:20 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myBlog/mysql/date_type.html" class="prev">
        数据库数据类型
      </a></span> <span class="next"><a href="/myBlog/mysql/insert_update.html">
        插入，修改，删除
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myBlog/assets/js/app.2a200a47.js" defer></script><script src="/myBlog/assets/js/3.1dd42633.js" defer></script><script src="/myBlog/assets/js/37.65162a31.js" defer></script>
  </body>
</html>
